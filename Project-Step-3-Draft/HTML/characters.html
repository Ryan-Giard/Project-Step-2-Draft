<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Characters</title>
    <link href="./style.css" rel="stylesheet" />
    <script>
        function deleteCharacter(characterID) {
            if (confirm("Are you sure you want to delete this character?")) {
                window.location.href = "delete_character.php?characterID=" + characterID;
            }
        }

        function editCharacter(characterID) {
            console.log("Editing character with ID:", characterID);
            // Simulate autofilling based on character ID
            const character = findCharacterById(characterID);
            if (character) {
                document.getElementById("characterID").value = character.characterID;
                document.getElementById("accountName").value = character.accountName;
                document.getElementById("name").value = character.name;
                document.getElementById("level").value = character.level;
                document.getElementById("className").value = character.className;
                document.getElementById("guildName").value = character.guildName;
            } else {
                alert("Character with ID " + characterID + " not found!");
            }
        }

        function findCharacterById(characterID) {
            // This is a mock function to simulate fetching character data from a database or server
            const characters = [
                { characterID: 1, accountName: "johnsmith", name: "Player1", level: 50, className: "Mage", guildName: "Sky Players" },
                { characterID: 2, accountName: "buffwizard", name: "Player2", level: 41, className: "Paladin", guildName: "N/A" },
                { characterID: 3, accountName: "alex456", name: "Player3", level: 19, className: "Rogue", guildName: "N/A" },
                { characterID: 4, accountName: "maxrebo", name: "Player4", level: 28, className: "Warrior", guildName: "Coffin Break" }
            ];
            return characters.find(character => character.characterID === characterID);
        }
    </script>
</head>
<body>
    <nav>
        <a href="index.html">Home</a> 
        <a href="accounts.html">Accounts</a> 
        <a href="characters.html">Characters</a> 
        <a href="guilds.html">Guilds</a> 
        <a href="classes.html">Classes</a> 
        <a href="hats.html">Hats</a>
    </nav>

    <h1>Characters</h1>
    <table>
        <tr>
            <th>Character ID</th>
            <th>Account Name</th>
            <th>Character Name</th>
            <th>Level</th>
            <th>Class Name</th>
            <th>Guild Name</th>
        </tr>
        <tr>
            <td>1</td>
            <td>johnsmith</td>
            <td>Player1</td>
            <td>50</td>
            <td>Mage</td>
            <td>Sky Players</td>
            <td>
                <button onclick="editCharacter(1)">Edit</button>
                <button onclick="deleteCharacter(1)">Delete</button>
            </td>
        </tr>
        <tr>
            <td>2</td>
            <td>buffwizard</td>
            <td>Player2</td>
            <td>41</td>
            <td>Paladin</td>
            <td>N/A</td>
            <td>
                <button onclick="editCharacter(2)">Edit</button>
                <button onclick="deleteCharacter(2)">Delete</button>
            </td>
        </tr>
        <tr>
            <td>3</td>
            <td>alex456</td>
            <td>Player3</td>
            <td>19</td>
            <td>Rogue</td>
            <td>N/A</td>
            <td>
                <button onclick="editCharacter(3)">Edit</button>
                <button onclick="deleteCharacter(3)">Delete</button>
            </td>
        </tr>
        <tr>
            <td>4</td>
            <td>maxrebo</td>
            <td>Player4</td>
            <td>28</td>
            <td>Warrior</td>
            <td>Coffin Break</td>
            <td>
                <button onclick="editCharacter(4)">Edit</button>
                <button onclick="deleteCharacter(4)">Delete</button>
            </td>
        </tr>
    </table>

    <div id="updateCharacterForm">
        <form action="update_character.php" method="post">
            <fieldset>
                <legend>Update Character</legend>
                <p>
                    <label for="characterID">Character ID:</label>
                    <input type="text" id="characterID" name="characterID">
                </p>
                <p>
                    <label for="accountName">Account Name:</label>
                    <input type="text" id="accountName" name="accountName">
                </p>
                <p>
                    <label for="name">Name:</label>
                    <input type="text" id="name" name="name">
                </p>
                <p>
                    <label for="level">Level:</label>
                    <input type="text" id="level" name="level">
                </p>
                <p>
                    <label for="className">Class Name:</label>
                    <input type="text" id="className" name="className">
                </p>
                <p>
                    <label for="guildName">Guild Name:</label>
                    <input type="text" id="guildName" name="guildName">
                </p>
                <button type="button" onclick="editCharacter(document.getElementById('characterID').value)">Autofill Character Data</button>
                <button type="submit">Update Character</button>
            </fieldset>
        </form>
    </div>

    <form action="add_character.php" method="post">
        <fieldset>
            <legend>Add New Character</legend>
            <p>
                <label for="accountName">Account Name:</label>
                <input type="text" id="accountName" name="accountName">
            </p>
            <p>
                <label for="name">Character Name:</label>
                <input type="text" id="name" name="name">
            </p>
            <p>
                <label for="level">Level:</label>
                <input type="text" id="level" name="level">
            </p>
            <p>
                <label for="className">Class Name:</label>
                <input type="text" id="className" name="className">
            </p>
            <p>
                <label for="guildName">Guild Name:</label>
                <input type="text" id="guildName" name="guildName">
            </p>
            <button type="submit">Add Character</button>
        </fieldset>
    </form>
</body>
</html>
